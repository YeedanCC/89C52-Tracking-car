C51 COMPILER V9.54   INFRARED_TRACK                                                        11/19/2021 18:52:41 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE INFRARED_TRACK
OBJECT MODULE PLACED IN .\Objects\Infrared track.obj
COMPILER INVOKED BY: E:\keil\C51\BIN\C51.EXE Infrared track.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\Infrared track.lst) TABS(2) OBJECT(.\Objects\Infrared track.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "MoveState.h"
   3          #include "Timer.h"
   4          #include "Delay.h"
   5          
   6          
   7          sbit D1=P2^6;
   8          sbit D2=P2^5;
   9          sbit D3=P2^4;
  10          sbit D4=P2^3;
  11          
  12          void Track()   //1为灭 0为亮   灭1   亮0     检测到黑线为灭1   
  13          {
  14   1        
  15   1        if(D1==1&&D2==1&&D3==1&&D4==1)              //小车悬空      灯全灭都为1
  16   1          {
  17   2            
  18   2            PWML=0;                          //左电机初始转速
  19   2            PWMR=0;                       //右电机初始转速
  20   2            CarStop();
  21   2          }
  22   1      //////////////////////////////////////////////////////////////////////////////////////////////////////////
             -//////////    
  23   1          
  24   1          
  25   1        if(D1==0&&D2==1&&D3==0&&D4==0)  //小车右边扫描到黑线（轻微偏左）  小车应该向右移动  0100
  26   1          {
  27   2            
  28   2            PWML=15;                           //左电机初始转速
  29   2            PWMR=9;                       //右电机初始转速
  30   2            CarGo();
  31   2          }
  32   1      //////////////////////////////////////////////////////////////////////////////////////////////////////////
             -//////////    
  33   1          
  34   1      //    if(D1==0&&D2==0&&D3==0&&D4==1)  //小车右边扫描到黑线（转小圈）  小车应该向右移动  1000
  35   1      //    {
  36   1      //      
  37   1      //      PWML=15;                           //左电机初始转速
  38   1      //      PWMR=40;                       //右电机初始转速
  39   1      //      CarGo();
  40   1      //      
  41   1      //    }
  42   1      //////////////////////////////////////////////////////////////////////////////////////////////////////////
             -//////////    
  43   1          
  44   1        if(D1==0&&D2==0&&D3==1&&D4==0)  //小车左边扫描到黑线（轻微偏右） 小车应该向左移动     0010
  45   1          {
  46   2            
  47   2            PWML=9;                           //左电机初始转速
  48   2            PWMR=15;                       //右电机初始转速
  49   2            CarGo();
  50   2          }
  51   1      //////////////////////////////////////////////////////////////////////////////////////////////////////////
C51 COMPILER V9.54   INFRARED_TRACK                                                        11/19/2021 18:52:41 PAGE 2   

             -//////////    
  52   1          
  53   1          
  54   1      //    if(D1==0&&D2==0&&D3==1&&D4==1)  //小车左边扫描到黑线（转小圈）  小车应该向左移动  0001
  55   1      //    {
  56   1      //      
  57   1      //      PWML=10;                           //左电机初始转速
  58   1      //      PWMR=30;                       //右电机初始转速
  59   1      //      CarGo();
  60   1      //      
  61   1      //    }
  62   1      //////////////////////////////////////////////////////////////////////////////////////////////////////////
             -//////////    
  63   1          
  64   1          
  65   1        if(D1==0&&D2==0&&D3==0&&D4==0)  //小车两边都接收到红外线  小车直行      全亮都为0
  66   1          {
  67   2            
  68   2            PWML=11;                           //左电机初始转速
  69   2            PWMR=11;                    //右电机初始转速
  70   2            CarGo();
  71   2            
  72   2          }
  73   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    106    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
